{"remainingRequest":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Projects\\Согласование\\CR_Approve_vue\\src\\views\\AddUser\\addUser.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\src\\views\\AddUser\\addUser.vue","mtime":1620229007545},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgaWNvbkFuZ2xlRG93blN2ZyBmcm9tICIuLi8uLi9hc3NldHMvaWNvbnMvc3ZnL2FuZ2xlLWRvd24uc3ZnIg0KaW1wb3J0IGljb25BbmdsZWxlZnRTdmcgZnJvbSAiLi4vLi4vYXNzZXRzL2ljb25zL3N2Zy9hbmdsZS1sZWZ0LnN2ZyINCmltcG9ydCB7bWFwQWN0aW9uc30gZnJvbSAndnVleCcNCg0KZXhwb3J0IGRlZmF1bHQgew0KCWNvbXBvbmVudHM6IHsNCgkJaWNvbkFuZ2xlbGVmdFN2ZywNCgkJaWNvbkFuZ2xlRG93blN2Zw0KCX0sDQoJbmFtZTogJ2ljbicsDQoJZGF0YTogKCkgPT4gKHsNCgkJZGlzYWJsZWRJbnBSb2xlOiBmYWxzZSwNCgkJb2JqOiB7DQoJCQllbWFpbDogIiIsDQoJCQlyb2xlSWQ6IG51bGwsDQoJCQluYW1lOiAiIiwNCgkJCWRlcGFydG1lbnQ6ICIiLA0KCQkJY29tcGFueUlkOiBudWxsDQoJCX0sDQoJCWxpc3RSb2xlOiBbXSwNCgkJbGlzdENvbXBhbmllczogW10sDQoJfSksDQoJbWV0aG9kczogew0KCQkuLi5tYXBBY3Rpb25zKHsNCgkJCWFwaUFsbDogJ2FwaS9hcGlBbGwnDQoJCX0pLA0KCQlzYXZlKG9iaikgew0KCQkJdGhpcy5hcGlBbGwoe3R5cGU6ICdwb3N0JywgdXJsOiBgYXBpL1VzZXJzYCwgaWQ6IHVuZGVmaW5lZCwgb2JqOiBvYmp9KQ0KCQkJLnRoZW4ocmVzID0+IHsNCgkJCQlpZihyZXMuc3RhdHVzID09IDIwMSkgew0KCQkJCQl0aGlzLiRub3RpZnkoeyBncm91cDogJ2ZvbycsIGR1cmF0aW9uOiA1MDAwLCB0eXBlOiAnc3VjY2VzcycsIHRpdGxlOiAn0KPRgdC/0LXRiNC90L4nLCB0ZXh0OiAn0J/QvtC70YzQt9C+0LLQsNGC0LXQu9GMINGD0YHQv9C10YjQvdC+INGB0L7Qt9C00LDQvScgfSkNCgkJCQkJdGhpcy5vYmogPSB7IGVtYWlsOiAiIiwgcm9sZUlkOiBudWxsLCBuYW1lOiAiIiwgZGVwYXJ0bWVudDogIiIsIGNvbXBhbnlJZDogbnVsbCB9DQoJCQkJCXRoaXMuJHJvdXRlci5wdXNoKGAke3RoaXMuJHJvdXRlLnF1ZXJ5Lm16ID8gJy9saXN0VXNlckZvck1aJyA6ICcvbGlzdFVzZXInfWApDQoJCQkJfSBlbHNlIHsNCgkJCQkJdGhpcy4kbm90aWZ5KHsgZ3JvdXA6ICdmb28nLCBkdXJhdGlvbjogNTAwMCwgdHlwZTogJ2Vycm9yJywgdGl0bGU6ICfQntGI0LjQsdC60LAnLCB0ZXh0OiAn0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCDQv9GA0Lgg0YHQvtC30LTQsNC90LjQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8nIH0pDQoJCQkJfQ0KCQkJfSkNCgkJCS5jYXRjaChlcnJvciA9PiB7DQoJCQkJaWYoZXJyb3IpIHsNCgkJCQkJaWYoZXJyb3Iuc3RhdHVzID09IDQwOSl7DQoJCQkJCQl0aGlzLiRub3RpZnkoeyBncm91cDogJ2ZvbycsIGR1cmF0aW9uOiA1MDAwLCB0eXBlOiAnZXJyb3InLCB0aXRsZTogJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0YHQvtC30LTQsNC90LjQuCcsIHRleHQ6ICfQn9C+0LvRjNC30L7QstCw0YLQtdC70Ywg0YEg0LTQsNC90L3Ri9C8IGVtYWlsINGD0LbQtSDRgdGD0YnQtdGB0YLQstGD0LXRgiDQsiDQodC40YHRgtC10LzQtScgfSkNCgkJCQkJfSBlbHNlIHsNCgkJCQkJCXRoaXMuJG5vdGlmeSh7IGdyb3VwOiAnZm9vJywgZHVyYXRpb246IDUwMDAsIHR5cGU6ICdlcnJvcicsIHRpdGxlOiAn0J7RiNC40LHQutCwINC/0YDQuCDRgdC+0LfQtNCw0L3QuNC4JywgdGV4dDogJ9CX0LDQv9C+0LvQvdC40YLQtSDQstGB0LUg0L/QvtC70Y8uLi4nIH0pDQoJCQkJCX0NCgkJCQl9DQoJCQl9KQ0KCQl9DQoJfSwNCgljcmVhdGVkKCkgew0KCQlpZih0aGlzLiRyb3V0ZS5xdWVyeS5teikgew0KCQkJdGhpcy5kaXNhYmxlZElucFJvbGUgPSB0cnVlDQoJCQl0aGlzLm9iai5yb2xlSWQgPSAxDQoJCX0NCgkJdGhpcy5hcGlBbGwoe3R5cGU6ICdnZXQnLCB1cmw6IGBhcGkvUm9sZXNgLCBpZDogdW5kZWZpbmVkfSkudGhlbihyZXMgPT4geyB0aGlzLmxpc3RSb2xlID0gcmVzLmRhdGEgfSkNCgkJdGhpcy5hcGlBbGwoe3R5cGU6ICdnZXQnLCB1cmw6IGBhcGkvQ29tcGFuaWVzYCwgaWQ6IHVuZGVmaW5lZH0pLnRoZW4ocmVzID0+IHsNCgkJCXRoaXMubGlzdENvbXBhbmllcyA9IHJlcy5kYXRhDQoJCQl0aGlzLmxpc3RDb21wYW5pZXMuc29ydChmdW5jdGlvbiAoYSwgYikgew0KCQkJICBpZiAoYS5uYW1lID4gYi5uYW1lKSByZXR1cm4gMQ0KCQkJICBpZiAoYS5uYW1lIDwgYi5uYW1lKSByZXR1cm4gLTENCgkJCSAgcmV0dXJuIDANCgkJCX0pOw0KCQl9KQ0KCX0NCn0NCg=="},{"version":3,"sources":["addUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addUser.vue","sourceRoot":"src/views/AddUser","sourcesContent":["<template>\r\n\t<div class=\"b-page-wrapper administrator\">\r\n\t\t<div class=\"b-head-block b-head-block--link\">\r\n\t\t\t<div class=\"b-container\">\r\n\t\t\t\t<div class=\"b-head-block__wrapper\">\r\n\t\t\t\t\t<router-link class=\"b-link b-link--header\" :to=\"$route.query.mz ? '/listUserForMZ' : '/listUser'\" title=\"\">\r\n\t\t\t\t\t\t<iconAngleleftSvg class=\"b-icon b-icon--header icon-angle-left\" />\r\n\t\t\t\t\t\t<span>Назад</span>\r\n\t\t\t\t\t</router-link>\r\n\t\t\t\t\t<h1 class=\"b-title b-title--h1\">Добавление нового пользователя\r\n\t\t\t\t\t</h1>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"b-container\">\r\n\t\t\t<div class=\"b-window\">\r\n\t\t\t\t<div class=\"b-form\" action=\"/\">\r\n\t\t\t\t\t<div class=\"b-form__first-lavel\">\r\n\t\t\t\t\t\t<div class=\"b-form__group b-form__group\">\r\n\t\t\t\t\t\t\t<div class=\"b-form__left\">\r\n\t\t\t\t\t\t\t\t<label class=\"b-label\" for=\"role\">Роль\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"b-form__right\">\r\n\t\t\t\t\t\t\t\t<div class=\"b-select\">\r\n\t\t\t\t\t\t\t\t\t<select :disabled=\"disabledInpRole\" v-model=\"obj.roleId\" class=\"b-select__select-field\" id=\"role\" name=\"role\">\r\n\t\t\t\t\t\t\t\t\t\t<option class=\"b-select__option\" :value=\"null\">Выбрать роль</option>\r\n\t\t\t\t\t\t\t\t\t\t<option v-for=\"(item, ind) in listRole\" :key=\"ind\" class=\"b-select__option\" :value=\"item.id\">{{item.name}}</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t<div class=\"b-icon\">\r\n\t\t\t\t\t\t\t\t\t\t<iconAngleDownSvg class=\"b-icon--down icon-angle-down\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"b-form__group b-form__group\">\r\n\t\t\t\t\t\t\t<div class=\"b-form__left\">\r\n\t\t\t\t\t\t\t\t<label class=\"b-label\" for=\"name\">Наименование МПНКО\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"b-form__right\">\r\n\t\t\t\t\t\t\t\t<div class=\"b-select\">\r\n\t\t\t\t\t\t\t\t\t<v-select\r\n\t\t\t\t\t\t\t\t\t\tv-model=\"obj.companyId\"\r\n\t\t\t\t\t\t\t\t\t\t:disabled=\"obj.roleId == 2\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"role\" name=\"role\"\r\n\t\t\t\t\t\t\t\t\t\t:options=\"listCompanies\"\r\n\t\t\t\t\t\t\t\t\t\t:reduce=\"item => item.id\"\r\n\t\t\t\t\t\t\t\t\t  label=\"name\">\r\n\t\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t\t\t<!-- <select v-model=\"obj.companyId\"  :disabled=\"obj.roleId == 2\" class=\"b-select__select-field\" id=\"role\" name=\"role\">\r\n\t\t\t\t\t\t\t\t\t\t<option class=\"b-select__option\" :value=\"null\">МПНКО</option>\r\n\t\t\t\t\t\t\t\t\t\t<option v-for=\"(item, ind) in listCompanies\" :key=\"ind\" class=\"b-select__option\" :value=\"item.id\">{{item.name}}</option>\r\n\t\t\t\t\t\t\t\t\t</select> -->\r\n\t\t\t\t\t\t\t\t\t<div class=\"b-icon\">\r\n\t\t\t\t\t\t\t\t\t\t<iconAngleDownSvg class=\"b-icon--down icon-angle-down\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div v-if=\"!disabledInpRole\" class=\"b-form__group b-form__group\">\r\n\t\t\t\t\t\t\t<div class=\"b-form__left\">\r\n\t\t\t\t\t\t\t\t<label class=\"b-label\" for=\"name\">Наименование Департамента Минздрава России\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"b-form__right\">\r\n\t\t\t\t\t\t\t\t<div class=\"b-input\">\r\n\t\t\t\t\t\t\t\t\t<input v-model=\"obj.department\" :disabled=\"obj.roleId == 1\" class=\"b-input__input-field\" id=\"name\" type=\"text\" placeholder=\"Введите наименование Департамента Минздрава России\" name=\"name\"/>\r\n\t\t\t\t\t\t\t\t\t<i class=\"b-icon b-icon--check icon-check\"></i><i class=\"b-icon b-icon--close icon-close\"></i>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"b-form__group b-form__group\">\r\n\t\t\t\t\t\t\t<div class=\"b-form__left\">\r\n\t\t\t\t\t\t\t\t<label class=\"b-label\" for=\"fio\">ФИО пользователя\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"b-form__right\">\r\n\t\t\t\t\t\t\t\t<div class=\"b-input\">\r\n\t\t\t\t\t\t\t\t\t<input v-model=\"obj.name\" class=\"b-input__input-field\" id=\"fio\" type=\"text\" placeholder=\"Введите ФИО пользователя\" name=\"fio\"/>\r\n\t\t\t\t\t\t\t\t\t<i class=\"b-icon b-icon--check icon-check\"></i><i class=\"b-icon b-icon--close icon-close\"></i>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"b-form__group b-form__group\">\r\n\t\t\t\t\t\t\t<div class=\"b-form__left\">\r\n\t\t\t\t\t\t\t\t<label class=\"b-label\" for=\"email-developer\">Логин\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"b-form__right\">\r\n\t\t\t\t\t\t\t\t<div class=\"b-input\">\r\n\t\t\t\t\t\t\t\t\t<input v-model=\"obj.email\" class=\"b-input__input-field\" id=\"email-developer\" type=\"email\" placeholder=\"Введите e-mail пользователя\" name=\"email-developer\"/>\r\n\t\t\t\t\t\t\t\t\t<i class=\"b-icon b-icon--check icon-check\"></i><i class=\"b-icon b-icon--close icon-close\"></i>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- <div class=\"b-form__group b-form__group\">\r\n\t\t\t\t\t\t\t<div class=\"b-form__left\">\r\n\t\t\t\t\t\t\t\t<label class=\"b-label\" for=\"pass\">Пароль\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"b-form__right b-form__right--flex\">\r\n\t\t\t\t\t\t\t\t<a style=\"text-transform:none\" class=\"b-link b-link--increased\" href=\"javascript:void(0);\" title=\"Отправить ссылку для создания пароля\">Отправить ссылку для создания пароля</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div> -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"b-form__group b-form__group--button\">\r\n\t\t\t\t\t\t<button @click=\"save(obj)\" class=\"b-button b-button--fill b-button--full\">Добавить пользователя</button>\r\n\r\n\t\t\t\t\t\t<router-link class=\"b-button b-button--empty b-button--full\" :to=\"$route.query.mz ? '/listUserForMZ' : '/listUser'\" title=\"Отменить\">Отменить</router-link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport iconAngleDownSvg from \"../../assets/icons/svg/angle-down.svg\"\r\nimport iconAngleleftSvg from \"../../assets/icons/svg/angle-left.svg\"\r\nimport {mapActions} from 'vuex'\r\n\r\nexport default {\r\n\tcomponents: {\r\n\t\ticonAngleleftSvg,\r\n\t\ticonAngleDownSvg\r\n\t},\r\n\tname: 'icn',\r\n\tdata: () => ({\r\n\t\tdisabledInpRole: false,\r\n\t\tobj: {\r\n\t\t\temail: \"\",\r\n\t\t\troleId: null,\r\n\t\t\tname: \"\",\r\n\t\t\tdepartment: \"\",\r\n\t\t\tcompanyId: null\r\n\t\t},\r\n\t\tlistRole: [],\r\n\t\tlistCompanies: [],\r\n\t}),\r\n\tmethods: {\r\n\t\t...mapActions({\r\n\t\t\tapiAll: 'api/apiAll'\r\n\t\t}),\r\n\t\tsave(obj) {\r\n\t\t\tthis.apiAll({type: 'post', url: `api/Users`, id: undefined, obj: obj})\r\n\t\t\t.then(res => {\r\n\t\t\t\tif(res.status == 201) {\r\n\t\t\t\t\tthis.$notify({ group: 'foo', duration: 5000, type: 'success', title: 'Успешно', text: 'Пользователь успешно создан' })\r\n\t\t\t\t\tthis.obj = { email: \"\", roleId: null, name: \"\", department: \"\", companyId: null }\r\n\t\t\t\t\tthis.$router.push(`${this.$route.query.mz ? '/listUserForMZ' : '/listUser'}`)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$notify({ group: 'foo', duration: 5000, type: 'error', title: 'Ошибка', text: 'Произошла ошибка при создании пользователя' })\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tif(error) {\r\n\t\t\t\t\tif(error.status == 409){\r\n\t\t\t\t\t\tthis.$notify({ group: 'foo', duration: 5000, type: 'error', title: 'Ошибка при создании', text: 'Пользователь с данным email уже существует в Системе' })\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$notify({ group: 'foo', duration: 5000, type: 'error', title: 'Ошибка при создании', text: 'Заполните все поля...' })\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tif(this.$route.query.mz) {\r\n\t\t\tthis.disabledInpRole = true\r\n\t\t\tthis.obj.roleId = 1\r\n\t\t}\r\n\t\tthis.apiAll({type: 'get', url: `api/Roles`, id: undefined}).then(res => { this.listRole = res.data })\r\n\t\tthis.apiAll({type: 'get', url: `api/Companies`, id: undefined}).then(res => {\r\n\t\t\tthis.listCompanies = res.data\r\n\t\t\tthis.listCompanies.sort(function (a, b) {\r\n\t\t\t  if (a.name > b.name) return 1\r\n\t\t\t  if (a.name < b.name) return -1\r\n\t\t\t  return 0\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n}\r\n</script>\r\n\r\n<style>\r\n@import '../../style/stylePages.css';\r\n\r\n.b-select__select-field[disabled] {\r\n    color: black!important;\r\n\tcursor: not-allowed;\r\n}\r\n\r\n.vs__dropdown-toggle {\r\n\tborder-radius: 0;\r\n\tborder: 1px solid #e5e5eb;\r\n}\r\n\r\n.vs__actions {\r\n\tdisplay: none;\r\n}\r\n</style>\r\n"]}]}