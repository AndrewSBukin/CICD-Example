{"remainingRequest":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Projects\\Согласование\\CR_Approve_vue\\src\\views\\EditUser\\editUser.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\src\\views\\EditUser\\editUser.vue","mtime":1620229007554},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQpAaW1wb3J0ICcuLi8uLi9zdHlsZS9zdHlsZVBhZ2VzLmNzcyc7DQoNCi5iLXNlbGVjdF9fc2VsZWN0LWZpZWxkW2Rpc2FibGVkXSB7DQogICAgY29sb3I6IGJsYWNrIWltcG9ydGFudDsNCgljdXJzb3I6IG5vdC1hbGxvd2VkOw0KfQ0K"},{"version":3,"sources":["editUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoMA;;AAEA;AACA;AACA;AACA","file":"editUser.vue","sourceRoot":"src/views/EditUser","sourcesContent":["<template>\r\n\t<div class=\"b-page-wrapper administrator\">\r\n\t\t<div class=\"b-head-block b-head-block--link\">\r\n\t\t\t<div class=\"b-container\">\r\n\t\t\t\t<div class=\"b-head-block__wrapper\">\r\n\t\t\t\t\t<router-link class=\"b-link b-link--header\" :to=\"$route.query.mz ? '/listUserForMZ' : '/listUser'\" title=\"\">\r\n\t\t\t\t\t\t<iconAngleleftSvg class=\"b-icon b-icon--header icon-angle-left\"/>  \r\n\t\t\t\t\t\t<span>Назад</span>\r\n\t\t\t\t\t</router-link>\r\n\t\t\t\t\t<h1 class=\"b-title b-title--h1\">Редактирование профиля пользователя\r\n\t\t\t\t\t</h1>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"b-container\">\r\n\t\t\t<div class=\"b-window\">\r\n\t\t\t\t<div class=\"b-form b-form--administrator-edit\" action=\"/\">\r\n\t\t\t\t\t<div class=\"b-form__first-lavel\">\r\n\t\t\t\t\t\t<div class=\"b-form__group\">\r\n\t\t\t\t\t\t\t<div class=\"b-form__left\">\r\n\t\t\t\t\t\t\t\t<label class=\"b-label\" for=\"role\">Роль\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"b-form__right\">\r\n\t\t\t\t\t\t\t\t<div class=\"b-select\">\r\n\t\t\t\t\t\t\t\t\t<select :disabled=\"disabledInpRole\" v-model=\"obj.roleId\" class=\"b-select__select-field\" id=\"role\" name=\"role\">\r\n\t\t\t\t\t\t\t\t\t\t<option class=\"b-select__option\" :value=\"null\">Выбрать роль</option>\r\n\t\t\t\t\t\t\t\t\t\t<option v-for=\"(item, ind) in listRole\" :key=\"ind\" class=\"b-select__option\" :value=\"item.id\">{{item.name}}</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t<div class=\"b-icon\">\r\n\t\t\t\t\t\t\t\t\t\t<iconAngleDownSvg class=\"b-icon--down icon-angle-down\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"b-form__group\">\r\n\t\t\t\t\t\t\t<div class=\"b-form__left\">\r\n\t\t\t\t\t\t\t\t<label class=\"b-label\" for=\"nameorg\">Наименование МПНКО\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"b-form__right\">\r\n\t\t\t\t\t\t\t\t<div class=\"b-select\">\r\n\t\t\t\t\t\t\t\t\t<select v-model=\"obj.companyId\" :disabled=\"obj.roleId == 2\" class=\"b-select__select-field\" id=\"role\" name=\"role\">\r\n\t\t\t\t\t\t\t\t\t\t<option class=\"b-select__option\" :value=\"null\">МНПКО</option>\r\n\t\t\t\t\t\t\t\t\t\t<option v-for=\"(item, ind) in listCompanies\" :key=\"ind\" class=\"b-select__option\" :value=\"item.id\">{{item.name}}</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t<div class=\"b-icon\">\r\n\t\t\t\t\t\t\t\t\t\t<iconAngleDownSvg class=\"b-icon--down icon-angle-down\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div v-if=\"!disabledInpRole\" class=\"b-form__group\">\r\n\t\t\t\t\t\t\t<div class=\"b-form__left\">\r\n\t\t\t\t\t\t\t\t<label class=\"b-label\" for=\"nameorg1\">Наименование Департамента Минздрава России\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"b-form__right\">\r\n\t\t\t\t\t\t\t\t<div class=\"b-input\">\r\n\t\t\t\t\t\t\t\t\t<input v-model=\"obj.department\" :disabled=\"obj.roleId == 1\" class=\"b-input__input-field\" id=\"nameorg1\" type=\"text\" placeholder=\"\" name=\"nameorg\"/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"b-form__group\">\r\n\t\t\t\t\t\t\t<div class=\"b-form__left\">\r\n\t\t\t\t\t\t\t\t<label class=\"b-label\" for=\"fio\">ФИО пользователя</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"b-form__right\">\r\n\t\t\t\t\t\t\t\t<div class=\"b-input\">\r\n\t\t\t\t\t\t\t\t\t<input v-model=\"obj.name\" class=\"b-input__input-field\" id=\"fio\" type=\"text\" placeholder=\"\" name=\"fio\"/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"b-form__group\">\r\n\t\t\t\t\t\t\t<div class=\"b-form__left\">\r\n\t\t\t\t\t\t\t\t<label class=\"b-label\" for=\"login\">Логин</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"b-form__right\">\r\n\t\t\t\t\t\t\t\t<div class=\"b-input\">\r\n\t\t\t\t\t\t\t\t\t<input v-model=\"obj.email\" class=\"b-input__input-field\" id=\"login\" type=\"text\" placeholder=\"\" name=\"login\"/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- <div class=\"b-form__group\">\r\n\t\t\t\t\t\t\t<div class=\"b-form__left\">\r\n\t\t\t\t\t\t\t\t<label class=\"b-label\" for=\"pass\">Пароль</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"b-form__right\">\r\n\t\t\t\t\t\t\t\t<div class=\"b-input-field\">\r\n\t\t\t\t\t\t\t\t\t<input class=\"b-input__input-field\" id=\"pass\" type=\"password\" placeholder=\"\" name=\"pass\" value=\"* * * * * * * *\" disabled=\"disabled\"/>\r\n\t\t\t\t\t\t\t\t\t<i class=\"b-icon b-icon--check icon-check\" />\r\n\t\t\t\t\t\t\t\t\t<i class=\"b-icon b-icon--close icon-close\" />\r\n\t\t\t\t\t\t\t\t\t<div class=\"b-icon\">\r\n\t\t\t\t\t\t\t\t\t\t<iconAngleDownSvg class=\"b-icon--down icon-angle-down\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div> -->\r\n\t\t\t\t\t\t<div class=\"b-form__group b-form__group--tumbler\">\r\n\t\t\t\t\t\t\t<div class=\"b-form__left b-form__left--tumbler\">\r\n\t\t\t\t\t\t\t\t<label class=\"b-label\" for=\"desabled\">Деактивировать профиль</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"b-form__right b-form__right--flex\">\r\n\t\t\t\t\t\t\t\t<div class=\"b-switch\">\r\n\t\t\t\t\t\t\t\t\t<input v-model=\"obj.isBlocked\" class=\"b-switch__input\" type=\"checkbox\" id=\"switch\" checked=\"checked\"/>\r\n\t\t\t\t\t\t\t\t\t<label class=\"b-switch__lbl-off\" for=\"switch\" />\r\n\t\t\t\t\t\t\t\t\t<label class=\"b-switch__lbl-on\" for=\"switch\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- <div class=\"b-form__group\">\r\n\t\t\t\t\t\t\t<div class=\"b-form__left\">\r\n\t\t\t\t\t\t\t\t<label class=\"b-label\" for=\"newpas\">Изменить пароль</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"b-form__right b-form__right--flex\">\r\n\t\t\t\t\t\t\t\t<a style=\"text-transform:none\" class=\"b-link b-link--increased\" href=\"javascript:void(0);\" title=\"Отправить ссылку для создания нового пароля\">Отправить ссылку для создания нового пароля</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div> -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"b-form__group b-form__group--button\">\r\n\t\t\t\t\t\t<button @click=\"save(obj)\" class=\"b-button b-button--fill b-button--full\">Сохранить</button>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<router-link class=\"b-button b-button--empty b-button--full\" :to=\"$route.query.mz ? '/listUserForMZ' : '/listUser'\" title=\"Отменить\">Отменить</router-link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport iconAngleleftSvg from \"../../assets/icons/svg/angle-left.svg\"\r\nimport iconAngleDownSvg from \"../../assets/icons/svg/angle-down.svg\"\r\nimport {mapActions} from 'vuex'\r\n\r\nexport default {\r\n\tcomponents: {\r\n\t\ticonAngleleftSvg,\r\n\t\ticonAngleDownSvg,\r\n\t},\r\n\tdata: () => ({\r\n\t\tdisabledInpRole: false,\r\n\t\tobj: {\r\n\t\t\temail: \"\",\r\n\t\t\troleId: null,\r\n\t\t\tname: \"\",\r\n\t\t\tdepartment: \"\",\r\n\t\t\tcompanyId: null,\r\n\t\t\tisBlocked: null\r\n\t\t},\r\n\t\tlistRole: [],\r\n\t\tlistCompanies: [],\r\n\t}),\r\n\tmethods: {\r\n\t\t...mapActions({\r\n\t\t\tapiAll: 'api/apiAll'\r\n\t\t}),\r\n\t\tsave(obj) {\r\n\t\t\tthis.apiAll({type: 'put', url: `api/Users`, id: this.$route.params.id, obj: obj})\r\n\t\t\t.then(res => {\r\n\t\t\t\tif(res.status == 200) {\r\n\t\t\t\t\tthis.$notify({ group: 'foo', duration: 4000, type: 'success', title: 'Успешно', text: 'Пользователь успешно отредактирован' })\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$notify({ group: 'foo', duration: 4000, type: 'error', title: 'Ошибка', text: 'Произошла ошибка при редактировании пользователя' })\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tif(error.status !== 409) {\r\n\t\t\t\t\tthis.$notify({ group: 'foo', duration: 5000, type: 'error', title: 'Ошибка при редактировании', text: 'Заполните все поля...' })\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$notify({ group: 'foo', duration: 5000, type: 'error', title: 'Ошибка при редактировании', text: 'Такой логин уже существует' })\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tif(this.$route.query.mz) this.disabledInpRole = true\r\n\t\tthis.apiAll({type: 'get', url: `api/Users/${this.$route.params.id}`, id: undefined})\r\n\t\t.then(res => { \r\n\t\t\tthis.obj = {\r\n\t\t\t\tid: res.data.id,\r\n\t\t\t\temail: res.data.login,\r\n\t\t\t\troleId: res.data.role ? res.data.role.id : null,\r\n\t\t\t\tname: res.data.name,\r\n\t\t\t\tdepartment: res.data.department,\r\n\t\t\t\tcompanyId: res.data.company ? res.data.company.id : null,\r\n\t\t\t\tisBlocked: res.data.isBlocked\r\n\t\t\t}\r\n\t\t})\r\n\t\tthis.apiAll({type: 'get', url: `api/Roles`, id: undefined}).then(res => { this.listRole = res.data })\r\n\t\tthis.apiAll({type: 'get', url: `api/Companies`, id: undefined}).then(res => { this.listCompanies = res.data })\r\n\t}\r\n}\r\n</script>\r\n\r\n<style>\r\n@import '../../style/stylePages.css';\r\n\r\n.b-select__select-field[disabled] {\r\n    color: black!important;\r\n\tcursor: not-allowed;\r\n}\r\n</style>"]}]}