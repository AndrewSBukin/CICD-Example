{"remainingRequest":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Projects\\Согласование\\CR_Approve_vue\\src\\views\\ProfileMPNKO\\profileMPNKO.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\src\\views\\ProfileMPNKO\\profileMPNKO.vue","mtime":1620229007566},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgaWNvbkFuZ2xlRG93blN2ZyBmcm9tICIuLi8uLi9hc3NldHMvaWNvbnMvc3ZnL2FuZ2xlLWRvd24uc3ZnIg0KaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQoJY29tcG9uZW50czoge2ljb25BbmdsZURvd25Tdmd9LA0KCWRhdGE6ICgpID0+ICh7DQoJCWluZm86IHt9LA0KCQlsaXN0Q29tcGFuaWVzOiBbXQ0KCX0pLA0KCWNvbXB1dGVkOiB7DQoJCS4uLm1hcEdldHRlcnMoew0KCQkJZ2V0VXNlckluZm86ICdhdXRoL2dldFVzZXJJbmZvJw0KCQl9KQ0KCX0sDQoJbWV0aG9kczogew0KCQkuLi5tYXBBY3Rpb25zKHsNCgkJCWFwaUFsbDogImFwaS9hcGlBbGwiDQoJCX0pLA0KCQl1cGRhdGVJbmZvKG9iaikgew0KCQkJdGhpcy5hcGlBbGwoe3R5cGU6ICdwdXQnLCB1cmw6IGBhcGkvQ29tcGFuaWVzLyR7b2JqLmlkfWAsIG9iajogeyJuYW1lIjogdGhpcy5saXN0Q29tcGFuaWVzLmZpbmQoZj0+IGYuaWQgPT0gb2JqLmlkKS5uYW1lLCAiYWRkcmVzcyI6IG9iai5hZGRyZXNzLCAicGhvbmUiOiBvYmoucGhvbmUsICJlbWFpbCI6IG9iai5lbWFpbH0sIGlkOiB1bmRlZmluZWR9KQ0KCQkJLnRoZW4ocmVzID0+IHsNCgkJCQlpZihyZXMuc3RhdHVzID09IDIwMCkgew0KCQkJCQl0aGlzLiRub3RpZnkoeyBncm91cDogJ2ZvbycsIGR1cmF0aW9uOiA0MDAwLCB0eXBlOiAnc3VjY2VzcycsIHRpdGxlOiAn0KPRgdC/0LXRiNC90L4nLCB0ZXh0OiAn0JTQsNC90L3Ri9C1INGD0YHQv9C10YjQvdC+INGB0L7RhdGA0LDQvdC10L3RiycgfSkNCgkJCQl9IGVsc2Ugew0KCQkJCQl0aGlzLiRub3RpZnkoeyBncm91cDogJ2ZvbycsIGR1cmF0aW9uOiA0MDAwLCB0eXBlOiAnZXJyb3InLCB0aXRsZTogJ9Ce0YjQuNCx0LrQsCcsIHRleHQ6ICfQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwINC/0YDQuCDRgdC+0YXRgNCw0L3QtdC90LjQuCcgfSkNCgkJCQl9DQoJCQl9KQ0KCQkJLmNhdGNoKGVycm9yID0+IHsNCgkJCQl0aGlzLiRub3RpZnkoeyBncm91cDogJ2ZvbycsIGR1cmF0aW9uOiA1MDAwLCB0eXBlOiAnZXJyb3InLCB0aXRsZTogJ9Ce0YjQuNCx0LrQsCcsIHRleHQ6ICfQntGI0LjQsdC60LAg0L/RgNC4INGB0L7RhdGA0LDQvdC10L3QuNC4JyB9KQ0KCQkJfSkNCgkJfQ0KCX0sDQoJY3JlYXRlZCgpIHsNCgkJdGhpcy5hcGlBbGwoe3R5cGU6ICdnZXQnLCB1cmw6IGBhcGkvQ29tcGFuaWVzL1VzZXJDb21wYW55YCwgaWQ6IHVuZGVmaW5lZH0pLnRoZW4ocmVzID0+IHsgdGhpcy5pbmZvID0gcmVzLmRhdGEgfSkNCgkJdGhpcy5hcGlBbGwoe3R5cGU6ICdnZXQnLCB1cmw6IGBhcGkvQ29tcGFuaWVzYCwgaWQ6IHVuZGVmaW5lZH0pLnRoZW4ocmVzID0+IHsgdGhpcy5saXN0Q29tcGFuaWVzID0gcmVzLmRhdGEgfSkNCgl9DQp9DQo="},{"version":3,"sources":["profileMPNKO.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"profileMPNKO.vue","sourceRoot":"src/views/ProfileMPNKO","sourcesContent":["<template>\r\n\t<div class=\"b-page-wrapper\">\r\n\t\t<div class=\"b-head-block\">\r\n\t\t\t<div class=\"b-container\">\r\n\t\t\t\t<div class=\"b-head-block__wrapper\">\r\n\t\t\t\t\t<h1 class=\"b-title b-title--h1\">Данные профиля\r\n\t\t\t\t\t</h1>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"b-container\">\r\n\t\t\t<div class=\"b-form b-form--profile-data bottom-padding\" action=\"/\">\r\n\t\t\t\t<div class=\"b-form__group\">\r\n\t\t\t\t\t<!-- <div class=\"b-input\">\r\n\t\t\t\t\t\t<input v-model=\"info.name\" class=\"b-input__input-field\" id=\"name\" type=\"text\" placeholder=\"Наименование разработчика\" name=\"name\"/>\r\n\t\t\t\t\t</div> -->\r\n\t\t\t\t\t<div class=\"b-select\">\r\n\t\t\t\t\t\t<select disabled v-model=\"info.id\" class=\"b-select__select-field\" id=\"role\" name=\"role\">\r\n\t\t\t\t\t\t\t<option class=\"b-select__option\" :value=\"null\">МНПКО</option>\r\n\t\t\t\t\t\t\t<option v-for=\"(item, ind) in listCompanies\" :key=\"ind\" class=\"b-select__option\" :value=\"item.id\">{{item.name}}</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t<div class=\"b-icon\">\r\n\t\t\t\t\t\t\t<iconAngleDownSvg class=\"b-icon--down icon-angle-down\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"b-form__group\">\r\n\t\t\t\t\t<div class=\"b-input\">\r\n\t\t\t\t\t\t<input v-model=\"info.address\" class=\"b-input__input-field\" id=\"index\" type=\"text\" placeholder=\"Почтовый адрес\" name=\"index\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"b-form__group\">\r\n\t\t\t\t\t<div class=\"b-input\">\r\n\t\t\t\t\t\t<input v-model=\"info.phone\" class=\"b-input__input-field\" id=\"tel\" type=\"tel\" placeholder=\"Контактный телефон\" name=\"tel\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"b-form__group\">\r\n\t\t\t\t\t<div class=\"b-input\">\r\n\t\t\t\t\t\t<input v-model=\"info.email\" class=\"b-input__input-field\" id=\"email\" type=\"email\" placeholder=\"Адрес электронной почты\" name=\"email\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"b-form__group b-form__group--button\">\r\n\t\t\t\t\t<button @click=\"updateInfo(info)\" class=\"b-button b-button--fill\">Сохранить и отправить</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport iconAngleDownSvg from \"../../assets/icons/svg/angle-down.svg\"\r\nimport { mapActions, mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n\tcomponents: {iconAngleDownSvg},\r\n\tdata: () => ({\r\n\t\tinfo: {},\r\n\t\tlistCompanies: []\r\n\t}),\r\n\tcomputed: {\r\n\t\t...mapGetters({\r\n\t\t\tgetUserInfo: 'auth/getUserInfo'\r\n\t\t})\r\n\t},\r\n\tmethods: {\r\n\t\t...mapActions({\r\n\t\t\tapiAll: \"api/apiAll\"\r\n\t\t}),\r\n\t\tupdateInfo(obj) {\r\n\t\t\tthis.apiAll({type: 'put', url: `api/Companies/${obj.id}`, obj: {\"name\": this.listCompanies.find(f=> f.id == obj.id).name, \"address\": obj.address, \"phone\": obj.phone, \"email\": obj.email}, id: undefined})\r\n\t\t\t.then(res => {\r\n\t\t\t\tif(res.status == 200) {\r\n\t\t\t\t\tthis.$notify({ group: 'foo', duration: 4000, type: 'success', title: 'Успешно', text: 'Данные успешно сохранены' })\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$notify({ group: 'foo', duration: 4000, type: 'error', title: 'Ошибка', text: 'Произошла ошибка при сохранении' })\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tthis.$notify({ group: 'foo', duration: 5000, type: 'error', title: 'Ошибка', text: 'Ошибка при сохранении' })\r\n\t\t\t})\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tthis.apiAll({type: 'get', url: `api/Companies/UserCompany`, id: undefined}).then(res => { this.info = res.data })\r\n\t\tthis.apiAll({type: 'get', url: `api/Companies`, id: undefined}).then(res => { this.listCompanies = res.data })\r\n\t}\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n@import '../../style/stylePages.css';\r\n\r\n.b-select__select-field[disabled] {\r\n    color: black!important;\r\n\tcursor: not-allowed;\r\n}\r\n</style>"]}]}