{"remainingRequest":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Projects\\Согласование\\CR_Approve_vue\\src\\views\\AddUser\\addUser.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\src\\views\\AddUser\\addUser.vue","mtime":1620229007545},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCkBpbXBvcnQgJy4uLy4uL3N0eWxlL3N0eWxlUGFnZXMuY3NzJzsNCg0KLmItc2VsZWN0X19zZWxlY3QtZmllbGRbZGlzYWJsZWRdIHsNCiAgICBjb2xvcjogYmxhY2shaW1wb3J0YW50Ow0KCWN1cnNvcjogbm90LWFsbG93ZWQ7DQp9DQoNCi52c19fZHJvcGRvd24tdG9nZ2xlIHsNCglib3JkZXItcmFkaXVzOiAwOw0KCWJvcmRlcjogMXB4IHNvbGlkICNlNWU1ZWI7DQp9DQoNCi52c19fYWN0aW9ucyB7DQoJZGlzcGxheTogbm9uZTsNCn0NCg=="},{"version":3,"sources":["addUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0LA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"addUser.vue","sourceRoot":"src/views/AddUser","sourcesContent":["<template>\r\n\t<div class=\"b-page-wrapper administrator\">\r\n\t\t<div class=\"b-head-block b-head-block--link\">\r\n\t\t\t<div class=\"b-container\">\r\n\t\t\t\t<div class=\"b-head-block__wrapper\">\r\n\t\t\t\t\t<router-link class=\"b-link b-link--header\" :to=\"$route.query.mz ? '/listUserForMZ' : '/listUser'\" title=\"\">\r\n\t\t\t\t\t\t<iconAngleleftSvg class=\"b-icon b-icon--header icon-angle-left\" />\r\n\t\t\t\t\t\t<span>Назад</span>\r\n\t\t\t\t\t</router-link>\r\n\t\t\t\t\t<h1 class=\"b-title b-title--h1\">Добавление нового пользователя\r\n\t\t\t\t\t</h1>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"b-container\">\r\n\t\t\t<div class=\"b-window\">\r\n\t\t\t\t<div class=\"b-form\" action=\"/\">\r\n\t\t\t\t\t<div class=\"b-form__first-lavel\">\r\n\t\t\t\t\t\t<div class=\"b-form__group b-form__group\">\r\n\t\t\t\t\t\t\t<div class=\"b-form__left\">\r\n\t\t\t\t\t\t\t\t<label class=\"b-label\" for=\"role\">Роль\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"b-form__right\">\r\n\t\t\t\t\t\t\t\t<div class=\"b-select\">\r\n\t\t\t\t\t\t\t\t\t<select :disabled=\"disabledInpRole\" v-model=\"obj.roleId\" class=\"b-select__select-field\" id=\"role\" name=\"role\">\r\n\t\t\t\t\t\t\t\t\t\t<option class=\"b-select__option\" :value=\"null\">Выбрать роль</option>\r\n\t\t\t\t\t\t\t\t\t\t<option v-for=\"(item, ind) in listRole\" :key=\"ind\" class=\"b-select__option\" :value=\"item.id\">{{item.name}}</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t<div class=\"b-icon\">\r\n\t\t\t\t\t\t\t\t\t\t<iconAngleDownSvg class=\"b-icon--down icon-angle-down\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"b-form__group b-form__group\">\r\n\t\t\t\t\t\t\t<div class=\"b-form__left\">\r\n\t\t\t\t\t\t\t\t<label class=\"b-label\" for=\"name\">Наименование МПНКО\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"b-form__right\">\r\n\t\t\t\t\t\t\t\t<div class=\"b-select\">\r\n\t\t\t\t\t\t\t\t\t<v-select\r\n\t\t\t\t\t\t\t\t\t\tv-model=\"obj.companyId\"\r\n\t\t\t\t\t\t\t\t\t\t:disabled=\"obj.roleId == 2\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"role\" name=\"role\"\r\n\t\t\t\t\t\t\t\t\t\t:options=\"listCompanies\"\r\n\t\t\t\t\t\t\t\t\t\t:reduce=\"item => item.id\"\r\n\t\t\t\t\t\t\t\t\t  label=\"name\">\r\n\t\t\t\t\t\t\t\t\t</v-select>\r\n\t\t\t\t\t\t\t\t\t<!-- <select v-model=\"obj.companyId\"  :disabled=\"obj.roleId == 2\" class=\"b-select__select-field\" id=\"role\" name=\"role\">\r\n\t\t\t\t\t\t\t\t\t\t<option class=\"b-select__option\" :value=\"null\">МПНКО</option>\r\n\t\t\t\t\t\t\t\t\t\t<option v-for=\"(item, ind) in listCompanies\" :key=\"ind\" class=\"b-select__option\" :value=\"item.id\">{{item.name}}</option>\r\n\t\t\t\t\t\t\t\t\t</select> -->\r\n\t\t\t\t\t\t\t\t\t<div class=\"b-icon\">\r\n\t\t\t\t\t\t\t\t\t\t<iconAngleDownSvg class=\"b-icon--down icon-angle-down\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div v-if=\"!disabledInpRole\" class=\"b-form__group b-form__group\">\r\n\t\t\t\t\t\t\t<div class=\"b-form__left\">\r\n\t\t\t\t\t\t\t\t<label class=\"b-label\" for=\"name\">Наименование Департамента Минздрава России\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"b-form__right\">\r\n\t\t\t\t\t\t\t\t<div class=\"b-input\">\r\n\t\t\t\t\t\t\t\t\t<input v-model=\"obj.department\" :disabled=\"obj.roleId == 1\" class=\"b-input__input-field\" id=\"name\" type=\"text\" placeholder=\"Введите наименование Департамента Минздрава России\" name=\"name\"/>\r\n\t\t\t\t\t\t\t\t\t<i class=\"b-icon b-icon--check icon-check\"></i><i class=\"b-icon b-icon--close icon-close\"></i>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"b-form__group b-form__group\">\r\n\t\t\t\t\t\t\t<div class=\"b-form__left\">\r\n\t\t\t\t\t\t\t\t<label class=\"b-label\" for=\"fio\">ФИО пользователя\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"b-form__right\">\r\n\t\t\t\t\t\t\t\t<div class=\"b-input\">\r\n\t\t\t\t\t\t\t\t\t<input v-model=\"obj.name\" class=\"b-input__input-field\" id=\"fio\" type=\"text\" placeholder=\"Введите ФИО пользователя\" name=\"fio\"/>\r\n\t\t\t\t\t\t\t\t\t<i class=\"b-icon b-icon--check icon-check\"></i><i class=\"b-icon b-icon--close icon-close\"></i>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"b-form__group b-form__group\">\r\n\t\t\t\t\t\t\t<div class=\"b-form__left\">\r\n\t\t\t\t\t\t\t\t<label class=\"b-label\" for=\"email-developer\">Логин\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"b-form__right\">\r\n\t\t\t\t\t\t\t\t<div class=\"b-input\">\r\n\t\t\t\t\t\t\t\t\t<input v-model=\"obj.email\" class=\"b-input__input-field\" id=\"email-developer\" type=\"email\" placeholder=\"Введите e-mail пользователя\" name=\"email-developer\"/>\r\n\t\t\t\t\t\t\t\t\t<i class=\"b-icon b-icon--check icon-check\"></i><i class=\"b-icon b-icon--close icon-close\"></i>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<!-- <div class=\"b-form__group b-form__group\">\r\n\t\t\t\t\t\t\t<div class=\"b-form__left\">\r\n\t\t\t\t\t\t\t\t<label class=\"b-label\" for=\"pass\">Пароль\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"b-form__right b-form__right--flex\">\r\n\t\t\t\t\t\t\t\t<a style=\"text-transform:none\" class=\"b-link b-link--increased\" href=\"javascript:void(0);\" title=\"Отправить ссылку для создания пароля\">Отправить ссылку для создания пароля</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div> -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"b-form__group b-form__group--button\">\r\n\t\t\t\t\t\t<button @click=\"save(obj)\" class=\"b-button b-button--fill b-button--full\">Добавить пользователя</button>\r\n\r\n\t\t\t\t\t\t<router-link class=\"b-button b-button--empty b-button--full\" :to=\"$route.query.mz ? '/listUserForMZ' : '/listUser'\" title=\"Отменить\">Отменить</router-link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport iconAngleDownSvg from \"../../assets/icons/svg/angle-down.svg\"\r\nimport iconAngleleftSvg from \"../../assets/icons/svg/angle-left.svg\"\r\nimport {mapActions} from 'vuex'\r\n\r\nexport default {\r\n\tcomponents: {\r\n\t\ticonAngleleftSvg,\r\n\t\ticonAngleDownSvg\r\n\t},\r\n\tname: 'icn',\r\n\tdata: () => ({\r\n\t\tdisabledInpRole: false,\r\n\t\tobj: {\r\n\t\t\temail: \"\",\r\n\t\t\troleId: null,\r\n\t\t\tname: \"\",\r\n\t\t\tdepartment: \"\",\r\n\t\t\tcompanyId: null\r\n\t\t},\r\n\t\tlistRole: [],\r\n\t\tlistCompanies: [],\r\n\t}),\r\n\tmethods: {\r\n\t\t...mapActions({\r\n\t\t\tapiAll: 'api/apiAll'\r\n\t\t}),\r\n\t\tsave(obj) {\r\n\t\t\tthis.apiAll({type: 'post', url: `api/Users`, id: undefined, obj: obj})\r\n\t\t\t.then(res => {\r\n\t\t\t\tif(res.status == 201) {\r\n\t\t\t\t\tthis.$notify({ group: 'foo', duration: 5000, type: 'success', title: 'Успешно', text: 'Пользователь успешно создан' })\r\n\t\t\t\t\tthis.obj = { email: \"\", roleId: null, name: \"\", department: \"\", companyId: null }\r\n\t\t\t\t\tthis.$router.push(`${this.$route.query.mz ? '/listUserForMZ' : '/listUser'}`)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$notify({ group: 'foo', duration: 5000, type: 'error', title: 'Ошибка', text: 'Произошла ошибка при создании пользователя' })\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tif(error) {\r\n\t\t\t\t\tif(error.status == 409){\r\n\t\t\t\t\t\tthis.$notify({ group: 'foo', duration: 5000, type: 'error', title: 'Ошибка при создании', text: 'Пользователь с данным email уже существует в Системе' })\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$notify({ group: 'foo', duration: 5000, type: 'error', title: 'Ошибка при создании', text: 'Заполните все поля...' })\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tif(this.$route.query.mz) {\r\n\t\t\tthis.disabledInpRole = true\r\n\t\t\tthis.obj.roleId = 1\r\n\t\t}\r\n\t\tthis.apiAll({type: 'get', url: `api/Roles`, id: undefined}).then(res => { this.listRole = res.data })\r\n\t\tthis.apiAll({type: 'get', url: `api/Companies`, id: undefined}).then(res => {\r\n\t\t\tthis.listCompanies = res.data\r\n\t\t\tthis.listCompanies.sort(function (a, b) {\r\n\t\t\t  if (a.name > b.name) return 1\r\n\t\t\t  if (a.name < b.name) return -1\r\n\t\t\t  return 0\r\n\t\t\t});\r\n\t\t})\r\n\t}\r\n}\r\n</script>\r\n\r\n<style>\r\n@import '../../style/stylePages.css';\r\n\r\n.b-select__select-field[disabled] {\r\n    color: black!important;\r\n\tcursor: not-allowed;\r\n}\r\n\r\n.vs__dropdown-toggle {\r\n\tborder-radius: 0;\r\n\tborder: 1px solid #e5e5eb;\r\n}\r\n\r\n.vs__actions {\r\n\tdisplay: none;\r\n}\r\n</style>\r\n"]}]}