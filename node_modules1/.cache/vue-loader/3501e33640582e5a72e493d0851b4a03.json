{"remainingRequest":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Projects\\Согласование\\CR_Approve_vue\\src\\views\\Auth\\Auth.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\src\\views\\Auth\\Auth.vue","mtime":1620229007546},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCcNCmltcG9ydCBSdXMgZnJvbSAnQC9hc3NldHMvaW1hZ2VzL2luaHRtbC9ydXMuc3ZnP2lubGluZScNCmltcG9ydCBFeWUgZnJvbSAnQC9hc3NldHMvaWNvbnMvc3ZnL2V5ZS5zdmc/aW5saW5lJw0KaW1wb3J0IEV5ZVNsYXNoIGZyb20gJ0AvYXNzZXRzL2ljb25zL3N2Zy9leWUtc2xhc2guc3ZnP2lubGluZScNCmltcG9ydCBDbG9zZSBmcm9tICdAL2Fzc2V0cy9pY29ucy9zdmcvY2xvc2Uuc3ZnP2lubGluZScNCmltcG9ydCBSdXNNb2JpbGUgZnJvbSAnQC9hc3NldHMvaW1hZ2VzL2luaHRtbC9ydXMtbW9iaWxlLnN2Zz9pbmxpbmUnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBjb21wb25lbnRzOiB7IFJ1cywgUnVzTW9iaWxlLCBFeWUsIENsb3NlLCBFeWVTbGFzaCB9LA0KICAgIGRhdGE6ICgpID0+ICh7DQogICAgICAgIHNob3c6IDEsDQogICAgICAgIGF1dGhFcnJvcjogbnVsbCwNCiAgICAgICAgZW1haWw6ICcnLA0KICAgICAgICBwYXNzOiAnJywNCiAgICAgICAgcGFzczI6ICcnLA0KICAgICAgICB0b2tlbjogJycsDQogICAgICAgIGlkX3VzZXI6IG51bGwsDQogICAgICAgIGZvcm06IHsNCiAgICAgICAgICAgIGxvZ2luOiAnJywNCiAgICAgICAgICAgIHBhc3N3b3JkOiAnJywNCiAgICAgICAgICAgIHJlbWVtYmVyTWU6IGZhbHNlLA0KICAgICAgICB9LA0KICAgICAgICB3YWl0OiBmYWxzZSwNCiAgICAgICAgcGFzc3dvcmRUeXBlOiAncGFzc3dvcmQnLA0KICAgIH0pLA0KDQogICAgY29tcHV0ZWQ6IHsNCiAgICAgICAgZGlzYWJsZWQgKCkgew0KICAgICAgICAgICAgY29uc3QgeyBsb2dpbiwgcGFzc3dvcmQsIHdhaXQgfSA9IHRoaXMuZm9ybQ0KICAgICAgICAgICAgcmV0dXJuICEobG9naW4gJiYgcGFzc3dvcmQgJiYgIXdhaXQpDQogICAgICAgIH0sDQogICAgICAgIC4uLm1hcEdldHRlcnMoew0KICAgICAgICAgICAgLy8gYXV0aEVycm9yOiAnYWNjb3VudC9nZXRFcnJvcicNCiAgICAgICAgfSksDQogICAgfSwNCg0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgLi4ubWFwQWN0aW9ucyh7DQogICAgICAgICAgICBsb2dpbjogJ2F1dGgvYXV0aCcsDQogICAgICAgICAgICBhcGlBbGw6ICdhcGkvYXBpQWxsJw0KICAgICAgICB9KSwNCiAgICAgICAgYXV0aG9yaXphdGlvbigpIHsNCiAgICAgICAgICAgIHRoaXMud2FpdCA9IHRydWUNCiAgICAgICAgICAgIHRoaXMubG9naW4odGhpcy5mb3JtKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgaWYocmVzLmRhdGEucm9sZS5pZCAhPT0gNSkgdGhpcy4kcm91dGVyLnB1c2goJy9saXN0Q3InKQ0KICAgICAgICAgICAgICAgIGVsc2UgdGhpcy4kcm91dGVyLnB1c2goJy9saXN0VXNlcicpDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsNCiAgICAgICAgICAgICAgICBpZihlcnJvci5yZXNwb25zZS5zdGF0dXMgPT0gNDA0KQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRub3RpZnkoeyBncm91cDogJ2ZvbycsIGR1cmF0aW9uOiA1MDAwLCB0eXBlOiAnZXJyb3InLCB0aXRsZTogJ9Ce0YjQuNCx0LrQsC4uLicsIHRleHQ6ICfQlNCw0L3QvdGL0Lkg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMINC90LUg0L3QsNC50LTQtdC9INC40LvQuCDQt9Cw0LHQu9C+0LrQuNGA0L7QstCw0L0hJyB9KQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgY2hlY2tFbWFpbCgpIHsNCiAgICAgICAgICAgIGxldCBlbWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWlsJyksDQogICAgICAgICAgICBlbWFpbFJlZ0V4cCA9IC9eKChbXjw+KClbXF1cXC4sOzpcc0BcIl0rKFwuW148PigpW1xdXFwuLDs6XHNAXCJdKykqKXwoXCIuK1wiKSlAKChcW1swLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cXSl8KChbYS16QS1aXC0wLTldK1wuKStbYS16QS1aXXsyLH0pKSQvOw0KDQogICAgICAgICAgICBpZihlbWFpbC52YWxpZGl0eS52YWxpZCAmJiBlbWFpbFJlZ0V4cC50ZXN0KHRoaXMuZW1haWwpKSB7DQogICAgICAgICAgICAgICAgdGhpcy5hcGlBbGwoe3R5cGU6ICdnZXQnLCB1cmw6IGBhcGkvVXNlcnMvRW1haWxWYWxpZGF0b3IvJHt0aGlzLmVtYWlsfWAsIGlkOiB1bmRlZmluZWR9KQ0KICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmKHJlcy5zdGF0dXMgPT0gMjAwKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7IGdyb3VwOiAnZm9vJywgZHVyYXRpb246IDcwMDAsIHR5cGU6ICdzdWNjZXNzJywgdGl0bGU6ICfQo9GB0L/QtdGI0L3Qvi4uLicsIHRleHQ6ICfQmtC+0LQg0L7RgtC/0YDQsNCy0LvQtdC9IScgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvdyA9IDMNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaWRfdXNlciA9IHJlcy5kYXRhLnVzZXJJZA0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZihlcnJvci5zdGF0dXMgPT0gNDA0KXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7IGdyb3VwOiAnZm9vJywgZHVyYXRpb246IDUwMDAsIHR5cGU6ICdlcnJvcicsIHRpdGxlOiAn0J7RiNC40LHQutCwLi4uJywgdGV4dDogJ9CS0LLQtdC00LXQvdC90YvQuSDQktCw0LzQuCBlLW1haWwg0L3QtSDQt9Cw0YDQtdCz0LjRgdGC0YDQuNGA0L7QstCw0L0g0LIg0YHQuNGB0YLQtdC80LUnIH0pDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBjaGVja1Rva2VuKHRva2VuKSB7DQogICAgICAgICAgICB0aGlzLmFwaUFsbCh7dHlwZTogJ3Bvc3QnLCB1cmw6IGBhcGkvVXNlcnMvVG9rZW5WYWxpZGF0b3I/SWQ9JHt0aGlzLmlkX3VzZXJ9JlRva2VuPSR7dG9rZW59YCwgb2JqOiB7SWQ6IHRoaXMuaWRfdXNlciwgVG9rZW46IHRva2VufSwgaWQ6IHVuZGVmaW5lZH0pDQogICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgIGlmKHJlcy5zdGF0dXMgPT0gMjAwKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93ID0gNA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7IGdyb3VwOiAnZm9vJywgZHVyYXRpb246IDUwMDAsIHR5cGU6ICdlcnJvcicsIHRpdGxlOiAn0J7RiNC40LHQutCwLi4uJywgdGV4dDogJ9Ca0L7QtCDRg9C60LDQt9Cw0L0g0L3QtdCy0LXRgNC90L4hJyB9KQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgY2hlY2tEaWdpdHMocGFzcykgew0KICAgICAgICAgICAgbGV0IGRpZ2l0cyA9ICIwMTIzNDU2Nzg5IiwNCiAgICAgICAgICAgIGNudENoZWNrRGlnaXRzID0gMDsNCiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFzcy5sZW5ndGg7IGkrKykgaWYoZGlnaXRzLmluZGV4T2YocGFzc1tpXSkgIT0gLTEpIGNudENoZWNrRGlnaXRzKysNCiAgICAgICAgICAgIHJldHVybiBjbnRDaGVja0RpZ2l0cyA+PSA0ID8gdHJ1ZSA6IGZhbHNlDQogICAgICAgIH0sDQogICAgICAgIGNoZWNrUGFzc3dvcmQocGFzcywgcGFzczIpIHsNCiAgICAgICAgICAgIGlmKHBhc3MgPT09IHBhc3MyKSB7DQogICAgICAgICAgICAgICAgaWYodGhpcy5jaGVja0RpZ2l0cyhwYXNzKSAmJiBwYXNzLmxlbmd0aCA+IDUpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcGlBbGwoe3R5cGU6ICdwb3N0JywgdXJsOiBgYXBpL1VzZXJzL1Bhc3N3b3JkU2V0dGVyP0lkPSR7dGhpcy5pZF91c2VyfSZQYXNzd29yZD0ke3Bhc3N9YCwgb2JqOiB7SWQ6IHRoaXMuaWRfdXNlciwgUGFzc3dvcmQ6IHBhc3N9LCBpZDogdW5kZWZpbmVkfSkNCiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlcy5zdGF0dXMgPT0gMjAwKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlkX3VzZXIgPSBudWxsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbWFpbCA9ICcnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXNzID0gJycNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhc3MyID0gJycNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRva2VuID0gJycNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3cgPSAxDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsgZ3JvdXA6ICdmb28nLCBkdXJhdGlvbjogNTAwMCwgdHlwZTogJ3N1Y2Nlc3MnLCB0aXRsZTogJ9Cj0YHQv9C10YUuLi4nLCB0ZXh0OiAn0J/QsNGA0L7Qu9GMINGD0YHQv9C10YjQvdC+INC40LfQvNC10L3QtdC9IScgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB0aGlzLiRub3RpZnkoeyBncm91cDogJ2ZvbycsIGR1cmF0aW9uOiA3MDAwLCB0eXBlOiAnZXJyb3InLCB0aXRsZTogJ9Ce0YjQuNCx0LrQsC4uLicsIHRleHQ6ICfQkiDQv9Cw0YDQvtC70LUg0LTQvtC70LbQvdC+INCx0YvRgtGMINC90LUg0LzQtdC90LXQtSA2INC30L3QsNC60L7QsiDQuCA0INGG0LjRhNGAIScgfSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7IGdyb3VwOiAnZm9vJywgZHVyYXRpb246IDUwMDAsIHR5cGU6ICdlcnJvcicsIHRpdGxlOiAn0J7RiNC40LHQutCwLi4uJywgdGV4dDogJ9Cf0LDRgNC+0LvQuCDQvdC1INGB0L7QstC/0LDQtNCw0Y7RgiEnIH0pDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQp9DQoNCg=="},{"version":3,"sources":["Auth.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Auth.vue","sourceRoot":"src/views/Auth","sourcesContent":["<template lang=\"pug\">\r\n    div(:class=\"[{ [$style.await]: wait }, $style.login,]\")\r\n        div(:class=\"$style.wrapper\")\r\n            div(:class=\"$style.left\")\r\n                div(:class=\"$style.titleText\") Добро пожаловать!\r\n                h1(:class=\"$style.title\") Система мониторинга процесса разработки клинических рекомендаций\r\n                div(v-if=\"authError\", :class=\"[$style.text, $style.errorText]\") {{ authError.message }}\r\n                div(v-else, :class=\"$style.text\")\r\n                    span(v-if=\"show==1\") Для продолжения работы необходимо пройти авторизацию\r\n                    span(v-if=\"show==2\") Для восстановления пароля необходимо ввести e-mail адрес\r\n                    span(v-if=\"show==3\") Введите код подтверждения, отправленный Вам на email\r\n                    span(v-if=\"show==4\") Придумайте новый пароль\r\n                form(:class=\"$style.form\" autocomplete=\"off\" id=\"form\" action=\"javascript:void(0);\")\r\n                    div(v-if=\"show==1\" :class=\"[$style.group, $style.first]\")\r\n                        div(:class=\"$style.input\")\r\n                            input(\r\n                                :class=\"[{ [$style.error]: authError }, $style.inputField]\"\r\n                                placeholder=\"E-mail\"\r\n                                name=\"email\"\r\n                                v-model=\"form.login\"\r\n                            )\r\n                            div(v-if=\"form.login\", :class=\"$style.linkBLock\")\r\n                                a(:class=\"$style.clean\", href, title, @click.prevent=\"form.login=''\", tabindex=\"-1\")\r\n                                    Close\r\n                    div(v-if=\"show==2\" :class=\"[$style.group, $style.first]\")\r\n                        div(:class=\"$style.input\")\r\n                            input(\r\n                                :class=\"[{ [$style.error]: authError }, $style.inputField]\"\r\n                                type=\"email\"\r\n                                placeholder=\"E-mail\"\r\n                                name=\"email\"\r\n                                v-model=\"email\"\r\n                                requared\r\n                                id=\"mail\"\r\n                            )\r\n                            div(v-if=\"form.login\", :class=\"$style.linkBLock\")\r\n                                a(:class=\"$style.clean\", href, title, @click.prevent=\"email=''\", tabindex=\"-1\")\r\n                                    Close\r\n                    div(v-if=\"show==3\" :class=\"[$style.group, $style.first]\")\r\n                        div(:class=\"$style.input\")\r\n                            input(\r\n                                :class=\"[{ [$style.error]: authError }, $style.inputField]\"\r\n                                placeholder=\"Код подтверждения\"\r\n                                name=\"token\"\r\n                                v-model=\"token\"\r\n                            )\r\n                            div(v-if=\"form.login\", :class=\"$style.linkBLock\")\r\n                                a(:class=\"$style.clean\", href, title, @click.prevent=\"token=''\", tabindex=\"-1\")\r\n                                    Close\r\n                    div(v-if=\"show==4\" :class=\"[$style.group, $style.first]\")\r\n                        div(:class=\"$style.input\")\r\n                            input(\r\n                                :class=\"[{ [$style.error]: authError }, $style.inputField]\"\r\n                                placeholder=\"Введите пароль\"\r\n                                name=\"pass\"\r\n                                v-model=\"pass\"\r\n                            )\r\n                            div(v-if=\"form.login\", :class=\"$style.linkBLock\")\r\n                                a(:class=\"$style.clean\", href, title, @click.prevent=\"pass=''\", tabindex=\"-1\")\r\n                                    Close\r\n                    div(v-if=\"show==4\" :class=\"[$style.group, $style.first]\")\r\n                        div(:class=\"$style.input\")\r\n                            input(\r\n                                :class=\"[{ [$style.error]: authError }, $style.inputField]\"\r\n                                placeholder=\"Подтвердите пароль\"\r\n                                name=\"pass2\"\r\n                                v-model=\"pass2\"\r\n                            )\r\n                            div(v-if=\"form.login\", :class=\"$style.linkBLock\")\r\n                                a(:class=\"$style.clean\", href, title, @click.prevent=\"pass2=''\", tabindex=\"-1\")\r\n                                    Close\r\n                    div(v-if=\"show==1\" :class=\"[$style.group, $style.last]\")\r\n                        div(:class=\"$style.input\")\r\n                            input(\r\n                                :class=\"[{ [$style.error]: authError }, $style.inputField]\"\r\n                                :type=\"passwordType\"\r\n                                placeholder=\"Пароль\"\r\n                                name=\"password\"\r\n                                v-model=\"form.password\"\r\n                            )\r\n                            div(v-if=\"form.password\", :class=\"$style.linkBLock\")\r\n                                a(\r\n                                    :class=\"$style.eye\"\r\n                                    href\r\n                                    title\r\n                                    @click.prevent=\"\"\r\n                                    @mousedown=\"passwordType = 'text'\"\r\n                                    @mouseup=\"passwordType = 'password'\"\r\n                                    @mouseleave=\"passwordType = 'password'\"\r\n                                )\r\n                                    Eye(v-if=\"passwordType === 'text'\", :class=\"$style.eyeHidden\")\r\n                                    EyeSlash(v-else, :class=\"$style.eyeHidden\")\r\n                                a(:class=\"$style.clean\", href, title, @click.prevent=\"form.password = ''\")\r\n                                    Close\r\n                    div(:class=\"[$style.group, $style.check]\")\r\n                        div(v-if=\"show==1\" :class=\"$style.checkbox\")\r\n                            input(\r\n                                type=\"checkbox\"\r\n                                name=\"remember\"\r\n                                id=\"remember\"\r\n                                value=\"Запомнить меня\"\r\n                                v-model=\"form.rememberMe\"\r\n                                :class=\"$style.checkboxInput\"\r\n                            )\r\n                            label(for=\"remember\", :class=\"$style.name\")\r\n                                span(:class=\"$style.checkboxText\") Запомнить меня\r\n                        span(\r\n                            v-if=\"show==1\"\r\n                            style=\"text-transform:none;cursor:pointer\"\r\n                            title=\"Забыли пароль?\"\r\n                            :class=\"$style.link\"\r\n                            @click=\"show=2\"\r\n                        ) Забыли пароль?\r\n                        span(\r\n                            v-if=\"show > 1\"\r\n                            style=\"text-transform:none;cursor:pointer\"\r\n                            title=\"Вернуться назад\"\r\n                            :class=\"$style.link\"\r\n                            @click=\"show=show-1\"\r\n                        ) Вернуться назад\r\n                    div(:class=\"[$style.group, $style.button]\")\r\n                        button(v-if=\"show==1\" @click=\"authorization\" :disabled=\"disabled\" :class=\"$style.buttonNext\") Войти\r\n                        button(v-if=\"show==2\" @click=\"checkEmail\" :disabled=\"email.length==0\" :class=\"$style.buttonNext\") Отправить код\r\n                        button(v-if=\"show==3\" @click=\"checkToken(token)\" :disabled=\"token.length==0\" :class=\"$style.buttonNext\") Продолжить\r\n                        button(v-if=\"show==4\" @click=\"checkPassword(pass, pass2)\" :class=\"$style.buttonNext\") Сохранить\r\n        div(:class=\"$style.imageWrapperDesktop\")\r\n            Rus\r\n        div(:class=\"$style.imageWrapperMobile\")\r\n            RusMobile\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport Rus from '@/assets/images/inhtml/rus.svg?inline'\r\nimport Eye from '@/assets/icons/svg/eye.svg?inline'\r\nimport EyeSlash from '@/assets/icons/svg/eye-slash.svg?inline'\r\nimport Close from '@/assets/icons/svg/close.svg?inline'\r\nimport RusMobile from '@/assets/images/inhtml/rus-mobile.svg?inline'\r\n\r\nexport default {\r\n    components: { Rus, RusMobile, Eye, Close, EyeSlash },\r\n    data: () => ({\r\n        show: 1,\r\n        authError: null,\r\n        email: '',\r\n        pass: '',\r\n        pass2: '',\r\n        token: '',\r\n        id_user: null,\r\n        form: {\r\n            login: '',\r\n            password: '',\r\n            rememberMe: false,\r\n        },\r\n        wait: false,\r\n        passwordType: 'password',\r\n    }),\r\n\r\n    computed: {\r\n        disabled () {\r\n            const { login, password, wait } = this.form\r\n            return !(login && password && !wait)\r\n        },\r\n        ...mapGetters({\r\n            // authError: 'account/getError'\r\n        }),\r\n    },\r\n\r\n    methods: {\r\n        ...mapActions({\r\n            login: 'auth/auth',\r\n            apiAll: 'api/apiAll'\r\n        }),\r\n        authorization() {\r\n            this.wait = true\r\n            this.login(this.form).then(res => {\r\n                if(res.data.role.id !== 5) this.$router.push('/listCr')\r\n                else this.$router.push('/listUser')\r\n            })\r\n            .catch(error => {\r\n                if(error.response.status == 404)\r\n                    this.$notify({ group: 'foo', duration: 5000, type: 'error', title: 'Ошибка...', text: 'Данный пользователь не найден или заблокирован!' })\r\n            })\r\n        },\r\n        checkEmail() {\r\n            let email = document.getElementById('mail'),\r\n            emailRegExp = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n            if(email.validity.valid && emailRegExp.test(this.email)) {\r\n                this.apiAll({type: 'get', url: `api/Users/EmailValidator/${this.email}`, id: undefined})\r\n                .then(res => {\r\n                    if(res.status == 200){\r\n                        this.$notify({ group: 'foo', duration: 7000, type: 'success', title: 'Успешно...', text: 'Код отправлен!' })\r\n                        this.show = 3\r\n                        this.id_user = res.data.userId\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    if(error.status == 404){\r\n                        this.$notify({ group: 'foo', duration: 5000, type: 'error', title: 'Ошибка...', text: 'Введенный Вами e-mail не зарегистрирован в системе' })\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        checkToken(token) {\r\n            this.apiAll({type: 'post', url: `api/Users/TokenValidator?Id=${this.id_user}&Token=${token}`, obj: {Id: this.id_user, Token: token}, id: undefined})\r\n            .then(res => {\r\n                if(res.status == 200){\r\n                    this.show = 4\r\n                }\r\n            })\r\n            .catch(error => {\r\n                this.$notify({ group: 'foo', duration: 5000, type: 'error', title: 'Ошибка...', text: 'Код указан неверно!' })\r\n            })\r\n        },\r\n        checkDigits(pass) {\r\n            let digits = \"0123456789\",\r\n            cntCheckDigits = 0;\r\n            for (let i = 0; i < pass.length; i++) if(digits.indexOf(pass[i]) != -1) cntCheckDigits++\r\n            return cntCheckDigits >= 4 ? true : false\r\n        },\r\n        checkPassword(pass, pass2) {\r\n            if(pass === pass2) {\r\n                if(this.checkDigits(pass) && pass.length > 5) {\r\n                    this.apiAll({type: 'post', url: `api/Users/PasswordSetter?Id=${this.id_user}&Password=${pass}`, obj: {Id: this.id_user, Password: pass}, id: undefined})\r\n                    .then(res => {\r\n                        if(res.status == 200){\r\n                            this.id_user = null\r\n                            this.email = ''\r\n                            this.pass = ''\r\n                            this.pass2 = ''\r\n                            this.token = ''\r\n                            this.show = 1\r\n                            this.$notify({ group: 'foo', duration: 5000, type: 'success', title: 'Успех...', text: 'Пароль успешно изменен!' })\r\n                        }\r\n                    })\r\n                } else {\r\n                    this.$notify({ group: 'foo', duration: 7000, type: 'error', title: 'Ошибка...', text: 'В пароле должно быть не менее 6 знаков и 4 цифр!' })\r\n                }\r\n            } else {\r\n                this.$notify({ group: 'foo', duration: 5000, type: 'error', title: 'Ошибка...', text: 'Пароли не совпадают!' })\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style lang='less' module>\r\n@import \"./style/mobile.less\";\r\n\r\n@media (min-width: 768px) {\r\n    @import \"./style/tablet.less\";\r\n}\r\n\r\n@media (min-width: 1366px) {\r\n    @import \"./style/desktop.less\";\r\n}\r\n</style>"]}]}