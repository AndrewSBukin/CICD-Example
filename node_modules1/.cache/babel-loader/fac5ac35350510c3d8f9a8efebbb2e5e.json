{"remainingRequest":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Projects\\Согласование\\CR_Approve_vue\\src\\store\\auth.js","dependencies":[{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\src\\store\\auth.js","mtime":1620229007534},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Projects\\Согласование\\CR_Approve_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXIvaW5kZXgnOwp2YXIgbG9jYWxVc2VyID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlckluZm8nKSkgfHwge307CnZhciBzdGF0ZSA9IHsKICB1c2VySW5mbzogewogICAgbmFtZTogJycKICB9Cn07Ck9iamVjdC5rZXlzKHN0YXRlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICByZXR1cm4gc3RhdGVba2V5XSA9IGxvY2FsVXNlcltrZXldID8gbG9jYWxVc2VyW2tleV0gOiBzdGF0ZVtrZXldOwp9KTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHN0YXRlLAogIGdldHRlcnM6IHsKICAgIGdldFVzZXJJbmZvOiBmdW5jdGlvbiBnZXRVc2VySW5mbyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlckluZm87CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGF1dGhTYXZlOiBmdW5jdGlvbiBhdXRoU2F2ZShzdGF0ZSwgZGF0YSkgewogICAgICBzdGF0ZS51c2VySW5mbyA9IGRhdGE7CiAgICAgIHJvdXRlci5vcHRpb25zLnJvdXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkgewogICAgICAgIGlmIChlbC5wYXRoID09ICcvbGlzdENyJykgewogICAgICAgICAgaWYgKGRhdGEucm9sZS5pZCA9PSAxKSB7CiAgICAgICAgICAgIGVsLm1ldGEubGlua3MuZm9yRWFjaChmdW5jdGlvbiAoZSwgaSkgewogICAgICAgICAgICAgIGlmIChpICE9PSA0ICYmIGkgIT09IDUpIGUudmlldyA9IHRydWU7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChkYXRhLnJvbGUuaWQgPT0gMyB8fCBkYXRhLnJvbGUuaWQgPT0gNCkgZWwubWV0YS5saW5rc1swXS52aWV3ID0gdHJ1ZTsKCiAgICAgICAgICBpZiAoZGF0YS5yb2xlLmlkID09IDIpIHsKICAgICAgICAgICAgZWwubWV0YS5saW5rc1swXS52aWV3ID0gdHJ1ZTsKICAgICAgICAgICAgZWwubWV0YS5saW5rc1s0XS52aWV3ID0gdHJ1ZTsKICAgICAgICAgICAgZWwubWV0YS5saW5rc1s1XS52aWV3ID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChlbC5wYXRoID09ICcvbGlzdFVzZXJGb3JNWicpIHsKICAgICAgICAgIGlmIChkYXRhLnJvbGUuaWQgPT0gMikgewogICAgICAgICAgICBlbC5tZXRhLmxpbmtzWzBdLnZpZXcgPSB0cnVlOwogICAgICAgICAgICBlbC5tZXRhLmxpbmtzWzFdLnZpZXcgPSB0cnVlOwogICAgICAgICAgICBlbC5tZXRhLmxpbmtzWzRdLnZpZXcgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGVsLnBhdGggPT0gJy9saXN0VXNlcicpIHsKICAgICAgICAgIGlmIChkYXRhLnJvbGUuaWQgPT0gNSkgZWwubWV0YS5saW5rc1swXS52aWV3ID0gdHJ1ZTsKICAgICAgICAgIGVsLm1ldGEubGlua3NbMV0udmlldyA9IHRydWU7CiAgICAgICAgfQoKICAgICAgICBpZiAoZWwucGF0aCA9PSAnL3Byb2ZpbGVNUE5LTycpIHsKICAgICAgICAgIGlmIChkYXRhLnJvbGUuaWQgPT0gMSkgewogICAgICAgICAgICBlbC5tZXRhLmxpbmtzLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICBlLnZpZXcgPSB0cnVlOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChlbC5wYXRoID09ICcvZWRpdENSLzppZCcpIHsKICAgICAgICAgIGlmIChkYXRhLnJvbGUuaWQgPT0gMSkgZWwubWV0YS5saW5rcy5mb3JFYWNoKGZ1bmN0aW9uIChlLCBpKSB7CiAgICAgICAgICAgIGVsLm1ldGEubGlua3MuZm9yRWFjaChmdW5jdGlvbiAoZSwgaSkgewogICAgICAgICAgICAgIGlmIChpICE9PSA0KSBlLnZpZXcgPSB0cnVlOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgICAgaWYgKGRhdGEucm9sZS5pZCA9PSAyKSBlbC5tZXRhLmxpbmtzLmZvckVhY2goZnVuY3Rpb24gKGUsIGkpIHsKICAgICAgICAgICAgaWYgKGkgIT09IDIgJiYgaSAhPT0gMSkgewogICAgICAgICAgICAgIGUudmlldyA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKGVsLnBhdGggPT0gJy92aWV3Q1IvOmlkJykgewogICAgICAgICAgaWYgKGRhdGEucm9sZS5pZCA9PSAxIHx8IGRhdGEucm9sZS5pZCA9PSAyKSBlbC5tZXRhLmxpbmtzLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgZS52aWV3ID0gdHJ1ZTsKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKGVsLnBhdGggPT0gJy9hZGRVc2VyJykgewogICAgICAgICAgaWYgKGRhdGEucm9sZS5pZCA9PSA1KSBlbC5tZXRhLmxpbmtzWzBdLnZpZXcgPSB0cnVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKGVsLnBhdGggPT0gJy9IaXN0b3J5JykgewogICAgICAgICAgaWYgKGRhdGEucm9sZS5pZCA9PSAyKSB7CiAgICAgICAgICAgIGVsLm1ldGEubGlua3NbMF0udmlldyA9IHRydWU7CiAgICAgICAgICAgIGVsLm1ldGEubGlua3NbMV0udmlldyA9IHRydWU7CiAgICAgICAgICAgIGVsLm1ldGEubGlua3NbM10udmlldyA9IHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGRhdGEucm9sZS5pZCA9PSA1KSB7CiAgICAgICAgICAgIGVsLm1ldGEubGlua3NbMl0udmlldyA9IHRydWU7CiAgICAgICAgICAgIGVsLm1ldGEubGlua3NbM10udmlldyA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICByZXNldExTOiBmdW5jdGlvbiByZXNldExTKHN0YXRlKSB7CiAgICAgIHN0YXRlLnVzZXJJbmZvID0gewogICAgICAgIG5hbWU6ICcnCiAgICAgIH07CiAgICAgIHJvdXRlci5vcHRpb25zLnJvdXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkgewogICAgICAgIGlmIChlbC5tZXRhKSBlbC5tZXRhLmxpbmtzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICBlbC52aWV3ID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgYXV0aDogZnVuY3Rpb24gYXV0aChfcmVmLCBkYXRhKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgcm9vdFN0YXRlID0gX3JlZi5yb290U3RhdGUsCiAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBfdGhpcy5hcGkucG9zdCgiIi5jb25jYXQocm9vdFN0YXRlLmFwaV91cmwsICJhcGkvYWNjb3VudCIpLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIHJlc29sdmUocmVzKTsKICAgICAgICAgIGNvbW1pdCgnYXV0aFNhdmUnLCByZXMuZGF0YSk7CiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmMikgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciByb290U3RhdGUgPSBfcmVmMi5yb290U3RhdGUsCiAgICAgICAgICBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgX3RoaXMyLmFwaS5wb3N0KCIiLmNvbmNhdChyb290U3RhdGUuYXBpX3VybCwgImFwaS9hY2NvdW50L2xvZ291dCIpLCB7fSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICByZXNvbHZlKHJlcyk7CiAgICAgICAgICBjb21taXQoJ3Jlc2V0TFMnKTsKICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:/Projects/Согласование/CR_Approve_vue/src/store/auth.js"],"names":["router","localUser","JSON","parse","localStorage","getItem","state","userInfo","name","Object","keys","forEach","key","namespaced","getters","getUserInfo","mutations","authSave","data","options","routes","el","path","role","id","meta","links","e","i","view","resetLS","actions","auth","rootState","commit","Promise","resolve","reject","api","post","api_url","then","res","error","logout"],"mappings":"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","sourcesContent":["import router from '../router/index'\r\nlet localUser = JSON.parse(localStorage.getItem('userInfo')) || {};\r\nlet state = {\r\n\tuserInfo: {\r\n\t\tname: ''\r\n\t}\r\n}\r\nObject.keys(state).forEach(key => state[key] = localUser[key] ? localUser[key] : state[key]);\r\n\r\n\r\nexport default {\r\n\tnamespaced: true,\r\n\tstate,\r\n\tgetters: {\r\n\t\tgetUserInfo: state => state.userInfo\r\n\t},\r\n\tmutations: {\r\n\t\tauthSave(state, data) {\r\n\t\t\tstate.userInfo = data\r\n\t\t\trouter.options.routes.forEach(el => {\r\n\t\t\t\tif(el.path == '/listCr') {\r\n\t\t\t\t\tif(data.role.id == 1) {\r\n\t\t\t\t\t\tel.meta.links.forEach((e, i) => { if(i !== 4 && i !== 5) e.view = true})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(data.role.id == 3 || data.role.id == 4) el.meta.links[0].view = true\r\n\t\t\t\t\tif(data.role.id == 2) {\r\n\t\t\t\t\t\tel.meta.links[0].view = true\r\n\t\t\t\t\t\tel.meta.links[4].view = true\r\n\t\t\t\t\t\tel.meta.links[5].view = true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(el.path == '/listUserForMZ') {\r\n\t\t\t\t\tif(data.role.id == 2) {\r\n\t\t\t\t\t\tel.meta.links[0].view = true\r\n\t\t\t\t\t\tel.meta.links[1].view = true\r\n\t\t\t\t\t\tel.meta.links[4].view = true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(el.path == '/listUser') {\r\n\t\t\t\t\tif(data.role.id == 5)\r\n\t\t\t\t\t\tel.meta.links[0].view = true\r\n\t\t\t\t\t\tel.meta.links[1].view = true\r\n\t\t\t\t}\r\n\t\t\t\tif(el.path == '/profileMPNKO') {\r\n\t\t\t\t\tif(data.role.id == 1) {\r\n\t\t\t\t\t\tel.meta.links.forEach(e => {e.view = true})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(el.path == '/editCR/:id') {\r\n\t\t\t\t\tif(data.role.id == 1) el.meta.links.forEach((e,i) => {\r\n\t\t\t\t\t\tel.meta.links.forEach((e, i) => { if(i !== 4) e.view = true})\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif(data.role.id == 2) el.meta.links.forEach((e,i) => {\r\n\t\t\t\t\t\tif(i !== 2 && i !== 1) {\r\n\t\t\t\t\t\t\te.view = true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tif(el.path == '/viewCR/:id') {\r\n\t\t\t\t\tif(data.role.id == 1 || data.role.id == 2) el.meta.links.forEach(e => {e.view = true})\r\n\t\t\t\t}\r\n\t\t\t\tif(el.path == '/addUser') {\r\n\t\t\t\t\tif(data.role.id == 5) el.meta.links[0].view = true\r\n\t\t\t\t}\r\n\t\t\t\tif(el.path == '/History') {\r\n\t\t\t\t\tif(data.role.id == 2){\r\n\t\t\t\t\t\tel.meta.links[0].view = true\r\n\t\t\t\t\t\tel.meta.links[1].view = true\r\n\t\t\t\t\t\tel.meta.links[3].view = true\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(data.role.id == 5){\r\n\t\t\t\t\t\tel.meta.links[2].view = true\r\n\t\t\t\t\t\tel.meta.links[3].view = true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t})\r\n\t\t},\r\n\t\tresetLS(state) {\r\n\t\t\tstate.userInfo = {name: ''}\r\n\t\t\trouter.options.routes.forEach(el => {\r\n\t\t\t\tif(el.meta) el.meta.links.forEach(el => {el.view = false})\r\n\t\t\t})\r\n\t\t}\r\n\t},\r\n\tactions: {\r\n\t\tauth({ rootState, commit }, data) {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tthis.api.post(`${rootState.api_url}api/account`, data).then(res => {\r\n\t\t\t\t\tresolve(res)\r\n\t\t\t\t\tcommit('authSave', res.data)\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\treject(error)\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\tlogout({ rootState, commit }) {\r\n\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\tthis.api.post(`${rootState.api_url}api/account/logout`, {}).then(res => {\r\n\t\t\t\t\tresolve(res)\r\n\t\t\t\t\tcommit('resetLS')\r\n\t\t\t\t}, error => {\r\n\t\t\t\t\treject(error)\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t}\r\n};\r\n"]}]}